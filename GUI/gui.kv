<main>
	GridLayout:
		size: root.width, root.height
		cols: 1

		GridLayout:
			cols: 3
			row_force_default: True
			row_default_height: 60
			
			Label:
				text: "Peter Yau 17914"
				text_size: self.size
				font_size: 14
				pos_hint: {"center_x": 0.07, "center_y": 0.98}
				halign: 'left'
				valign: 'top'
				color: (1,1,1,1)

			Label:
				text: "[b]GUI para controlar el brazo[/b]"
				font_size: 28
				markup: True
				pos_hint: {"center_x":0.5, "center_y": 0.95}
				color: (1,1,1,1)

			# ------------ Este label es solo para ordenar bien el GridLayout ----------
			Label:
			# --------------------------------------------------------------------------

		GridLayout:
			cols: 4
			spacing: 20

			Image:
				source: "joint_base.png"
				size_hint_y: None
				size_hint_x: None
				width: 160
				height: 120
				

			FloatLayout:

				Label:
					text: "Servo 1"
					font_size: 16
					halign: 'center'
					pos_hint: {'center_x': .5, 'center_y': .9}

				Slider:
					id: servo1
					min: 0
					max: 180
					value: 90
					step: 1
					orientation: 'horizontal'
					size_hint_x: None
					width: 250
					pos_hint: {'center_x': .5, 'center_y': .6}
					sensitivity: 'handle'
					on_value: root.serialSend()

				Label:
					text: str(servo1.value)
					font_size: 16
					pos_hint: {'center_x': .5, 'center_y': .3}

			Image:
				source: "joint1.png"
				size_hint_y: None
				size_hint_x: None
				width: 160
				height: 120

			FloatLayout:

				Label:
					text: "Servo 2"
					font_size: 16
					halign: 'center'
					pos_hint: {'center_x': .5, 'center_y': .9}

				Slider:
					id: servo2
					min: 0
					max: 180
					value: 90
					step: 1
					orientation: 'horizontal'
					size_hint_x: None
					width: 250
					pos_hint: {'center_x': .5, 'center_y': .6}
					sensitivity: 'handle'
					on_value: root.serialSend()

				Label:
					text: str(servo2.value)
					font_size: 16
					pos_hint: {'center_x': .5, 'center_y': .3}

		GridLayout:
			cols: 4
			spacing: 20

			Image:
				source: "joint2.png"
				size_hint_y: None
				size_hint_x: None
				width: 160
				height: 120
				

			FloatLayout:

				Label:
					text: "Servo 3"
					font_size: 16
					halign: 'center'
					pos_hint: {'center_x': .5, 'center_y': .9}

				Slider:
					id: servo3
					min: 0
					max: 180
					value: 90
					step: 1
					orientation: 'horizontal'
					size_hint_x: None
					width: 250
					pos_hint: {'center_x': .5, 'center_y': .6}
					sensitivity: 'handle'
					on_value: root.serialSend()

				Label:
					text: str(servo3.value)
					font_size: 16
					pos_hint: {'center_x': .5, 'center_y': .3}

			Image:
				source: "joint_garra.png"
				size_hint_y: None
				size_hint_x: None
				width: 160
				height: 120

			FloatLayout:

				Label:
					text: "Servo 4"
					font_size: 16
					halign: 'center'
					pos_hint: {'center_x': .5, 'center_y': .9}

				Slider:
					id: servo4
					min: 0
					max: 180
					value: 90
					step: 1
					orientation: 'horizontal'
					size_hint_x: None
					width: 250
					pos_hint: {'center_x': .5, 'center_y': .6}
					sensitivity: 'handle'
					on_value: root.serialSend()

				Label:
					text: str(servo4.value)
					font_size: 16
					pos_hint: {'center_x': .5, 'center_y': .3}

		GridLayout:
			cols: 2
			spacing: 40

			Image:
				source: "stepper.png"
				size_hint_y: None
				size_hint_x: None
				width: 160
				height: 120
				

			FloatLayout:

				Label:
					text: "Stepper"
					font_size: 16
					halign: 'center'
					pos_hint: {'center_x': .336, 'center_y': .85}

				Slider:
					id: stepper
					min: -200
					max: 200
					value: 0
					step: 1
					orientation: 'horizontal'
					size_hint_x: None
					width: 500
					pos_hint: {'center_x': .336, 'center_y': .55}
					sensitivity: 'handle'
					on_value: root.serialSend()

				Label:
					text: str(stepper.value)
					font_size: 16
					pos_hint: {'center_x': .336, 'center_y': .25}

		GridLayout:
			cols: 6
			#row_force_default: True
			#row_default_height: 80

			Button:

			FloatLayout:

				Label:
					text: "[b]Posición actual \n Servo 1:[/b]"
					font_size: 16
					markup: True
					halign: 'center'
					pos_hint: {'center_x': .5, 'center_y': .7}
				
				Label:
					text: str(servo1.value) + "°"
					font_size: 18
					pos_hint: {'center_x': .5, 'center_y': .35}

			FloatLayout:

				Label:
					text: "[b]Posición actual \n Servo 2:[/b]"
					font_size: 16
					markup: True
					halign: 'center'
					pos_hint: {'center_x': .5, 'center_y': .7}
				
				Label:
					text: str(servo2.value) + "°"
					font_size: 18
					pos_hint: {'center_x': .5, 'center_y': .35}

			FloatLayout:

				Label:
					text: "[b]Posición actual \n Servo 3:[/b]"
					font_size: 16
					markup: True
					halign: 'center'
					pos_hint: {'center_x': .5, 'center_y': .7}
				
				Label:
					text: str(servo3.value) + "°"
					font_size: 18
					pos_hint: {'center_x': .5, 'center_y': .35}

			FloatLayout:

				Label:
					text: "[b]Posición actual \n Servo 4:[/b]"
					font_size: 16
					markup: True
					halign: 'center'
					pos_hint: {'center_x': .5, 'center_y': .7}
				
				Label:
					text: str(servo4.value) + "°"
					font_size: 18
					pos_hint: {'center_x': .5, 'center_y': .35}

			FloatLayout:

				Label:
					text: "[b]Posición actual \n Servo 4:[/b]"
					font_size: 16
					markup: True
					halign: 'center'
					pos_hint: {'center_x': .5, 'center_y': .7}
				
				Label:
					text: str(1.8*stepper.value) + "°"
					font_size: 18
					pos_hint: {'center_x': .5, 'center_y': .35}